---
title: "日语学习周记（至6月9日）"
tags: ["japanese"]
date: 2019-06-09 18:30:38
layout: post
excerpt: 总算背完了五十音图了，但是投入的时间不是很多，买到了教科书了，但是想为 gojuon 工具增加一个单词本功能，周末完成了，效果不是很好，准备重构成 c/s 架构的。
categories: japanese
comments: true
---

总算背完了五十音图了，但是投入的时间不是很多，记得也不太熟。买到了教科书了，但是想为 gojuon 工具增加一个单词本功能，周末完成了，效果不是很好，准备重构成 c/s 架构的。

总的来说就是想找到一个词典文件，然后将它嵌入到 gojuon 里面，然后我可以直接用 gojuon 来查单词的意思，然后再把相关的单词记录到文本里面，按照日期时间记录，然后提供复习功能。

首先解决查单词的问题，有两种解决方案：一、使用某些开发的词典 api，这个方案比较简单，但是有两个缺点——1. 我找不到这类服务，当然可能是因为我还没有认真去找，或者我没有试用 google translate；2. 这些服务可能被墙。所以我选择了第二种方案：内嵌一个词典。通过 [nihongo](https://github.com/gojp/nihongo) 项目，我找到了一个可用的日语词典文件。内嵌词典的一个问题是如果把词典文件和可执行文件打包在一起，[packr](https://github.com/gobuffalo/packr/tree/master/v2) 解决了这个问题，它可以把文件打包到二进制文件里面。

我完成了查词和记录生词的功能（记录生词的功能还很粗糙，它没有考虑重复记录的情况）。

完成这两个功能之后，实际的测试发现有个效率问题：每次启动程序都需要把词典载入一次，效率非常感人，所以还得大改（改成 c/s 架构，提供一个 daemon，然后客户端用 [grpc](https://grpc.io/) 通信）。

最后，我买的教材是[《新编日语》](https://book.douban.com/subject/4137149/)。
